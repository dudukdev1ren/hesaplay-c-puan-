<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pro Test Analiz</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            padding: 15px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        h2 {
            color: #1a73e8;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .input-group {
            margin-bottom: 10px;
        }

        .param-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .input-group-- {
            margin-bottom: 0px;
        }

        .param-group-- {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 0px;
        }

        .param-group--9 {
            display: flex; /* Butonlarƒ± yatay hizalamak i√ßin flexbox */
            gap: 5%; /* Butonlar arasƒ±na bo≈üluk eklemek i√ßin */
            justify-content: center; /* Butonlarƒ± yatayda ortalamak i√ßin */
            margin-top: 0px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #5f6368;
            font-size: 0.85rem;
        }

        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #dadce0;
            border-radius: 8px;
            font-size: 0.9rem;
            background: #f8f9fa;
        }

        .small-input {
            max-width: 80px;
            margin: 0 auto;
        }






        /* Birinci buton stili */
        .button1 {
            width: 100%;
            padding: 15px;
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .button1:active {
            background-color: #1557b0;
        }

        /* ƒ∞kinci buton stili */
        .button2 {
            width: 110%;
            height: 70%;
            padding: 6%;
            background-color: #317261;
            color: white;
            border: 1px solid #317261;
            border-radius: 3px;
            font-size: 1rem;
            
            cursor: pointer;
            transition: transform 0.4;
        }

        .button2:hover {
            transform: scale(1.1);
            background-color: #73e542;
        }

        .button2:active {
            color: black;
            background-color: #73e542;
        }





        .results {
            margin-top: 20px;
        }

        .chart-container {
            margin: 20px 0;
            position: relative;
            height: 300px;
        }

        .value-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .value-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .value-item h4 {
            color: #1a73e8;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }

        .value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
        }
        .yapimci {
            color: rgb(0, 61, 0);
            font-size: 18px;
            font-family: Arial, sans-serif;
        }
        .isimlendisici {
            color: rgb(36, 123, 238);
            font-size: 23px;
            font-style: italic;
            font-weight: bold;
            font-family: 'Times New Roman', serif;
        }
    </style>
</head>


<body>
    <div class="container">
        <div class="param-group--">
            <div class="input-group--">
                <p>
                    <span class="yapimci">Yapƒ±mcƒ±: </span> 
                    <span class="isimlendisici">Can</span>
                </p>
            </div>
            <div class="input-group--">
                <label>g√ºncelleme: 28.01.2025/21:31</label>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="card">
            <h2>üìä Faydalƒ± Test Analiz</h2>
            <div class="input-grid">
                <div class="input-group">
                    <label>‚úÖ Doƒüru sayƒ±sƒ±</label>
                    <input type="number" id="D" min="0" >
                </div>
                <div class="input-group">
                    <label>‚ùå Yanlƒ±≈ü sayƒ±sƒ±</label>
                    <input type="number" id="Y" min="0" >
                </div>
                <div class="input-group">
                    <label>‚¨ú Bo≈ü sayƒ±sƒ±</label>
                    <input type="number" id="B" min="0" value="0">
                </div>
                <div class="input-group">
                    <label>‚è±Ô∏è S√ºre(T√ºm testin-Dk)</label>
                    <input type="number" id="T" step="0.1">
                </div>
                <div class="input-group">
                    <label>üéØ Referans (Dk/soru)</label>
                    <input type="number" id="R" step="0.1" value="1">
                </div>
                <div class="input-group">
                    <div class="param-group--9">
                        <div class="input-group">
                            <label>tr</label>
                            <button class="button2" onclick="setReferenceValue(1)">01</button>
                        </div>
                        <div class="input-group">
                            <label>s-f</label>
                            <button class="button2" onclick="setReferenceValue(1.25)">25</button>
                        </div>
                        <div class="input-group">
                            <label>mat</label>
                            <button class="button2" onclick="setReferenceValue(1.5)">50</button>
                        </div>
                        <div class="input-group">
                            <label>ayt</label>
                            <button class="button2" onclick="setReferenceValue(1.75)">75</button>
                        </div>
                        <div class="input-group">
                            <label>ayt</label>
                            <button class="button2" onclick="setReferenceValue(2)">02</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="param-group">
                <div class="input-group">
                    <label>Œ±: -Y</label>
                    <input type="number" id="alpha" step="0.01" value="0.25" class="small-input">
                </div>
                <div class="input-group">
                    <label>Œ≤: -B</label>
                    <input type="number" id="beta" step="0.01" value="0.1" class="small-input">
                </div>
                <div class="input-group">
                    <label>∆î:‚ÜëZ‚ÜìN(1-0)</label>
                    <input type="number" id="gamma" step="0.1" value="0.5" class="small-input">
                </div>
            </div>

            <button class="button1" onclick="calculate()">HESAPLA</button>
        </div>

        <div class="card results">
            <h2>üìà Performans Metrikleri</h2>
            
            <div class="chart-container">
                <canvas id="radarChart"></canvas>
            </div>
            
            <div class="value-list">
                <div class="value-item">
                    <h4>W Skoru</h4>
                    <div class="value" id="wValue">-</div>
                </div>
                <div class="value-item">
                    <h4>Zaman Performansƒ±</h4>
                    <div class="value" id="wt2Value">-</div>
                </div>
                <div class="value-item">
                    <h4>Net Oranƒ±</h4>
                    <div class="value" id="wnnValue">-</div>
                    <div class="value" id="wnValue">-</div>
                </div>
                <div class="value-item">
                    <h4>√á√∂z√ºlen</h4>
                    <div class="value" id="wcValue">-</div>
                    <p  style="margin-bottom: 5px;">
                        <span class="yapimci">doƒüru: </span> 
                        <span class="yapimci" id="wdValue">-</div>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let radarChart = null;
        function setReferenceValue(value) {
            document.getElementById('R').value = value;
            calculate(); // Otomatik olarak hesaplamayƒ± da g√ºncelle
        }
        function calculate() {
            // Deƒüerleri alma
            const D = parseInt(document.getElementById('D').value) || 0;
            const Y = parseInt(document.getElementById('Y').value) || 0;
            const B = parseInt(document.getElementById('B').value) || 0;
            const T = parseFloat(document.getElementById('T').value) || 0;
            const R = parseFloat(document.getElementById('R').value) || 1;
            const alpha = parseFloat(document.getElementById('alpha').value) || 0.25;
            const beta = parseFloat(document.getElementById('beta').value) || 0.1;
            const gamma = parseFloat(document.getElementById('gamma').value) || 0.5;

            // Temel hesaplamalar
            const S = D + Y + B;
            const Net = D - (Y * alpha) - (B * beta);
            
            // Performans metrikleri
            const wt2 = ((R * S) / T);
            const w2 = (100 * Net * R) / T;
            const wd = (D / S * 100) || 0;
            const wn = (Net / S * 100) || 0;
            const wt =  (R * S) / T || 0;
            const wc =  ((D + Y)*100/S).toFixed(0) || 0;



            function f1(D, Y, B, T, R, alpha, beta, gamma) {
                const S = D + Y + B;
                const Net = D - (Y * alpha) - (B * beta);
                const wt2 = ((R * S) / T);
                const wd = (D / S * 100) || 0;
                const wn = (Net / S * 100) || 0;
                const w = (wn * 0.4 + wt2 * 0.3 + wd * 0.3) * gamma;
                const finalW = Math.min(Math.max(w, 0), 100).toFixed(1);    
                return finalW
            }

            function f2(D, Y, B, T, R, alpha, beta, gamma) {
                const totalQuestions = D + Y + B;
                const idealTime = totalQuestions * R;
                const excessTime = Math.max(T - idealTime, 0); // Negatif deƒüerleri sƒ±fƒ±rla
                const timePenalty = Math.exp(-gamma * (excessTime / idealTime));
                const netScore = D - (alpha * Y + beta * B);
                const W = netScore * timePenalty;
                return W*5;
            }

            function f3(D, Y, B, T, R, alpha, beta, gamma) {
                const totalQuestions = D + Y + B;
                const idealTime = totalQuestions * R;
                const netScore = D - (alpha * Y + beta * B);   
                // Net skoru 100'e normalize et (Max skor = t√ºm sorular doƒüru)
                const normalizedNet = (netScore / totalQuestions) * 100;  
                // Zaman fakt√∂r√º: (ƒ∞deal S√ºre / Ger√ßek S√ºre)^gamma
                const timeFactor = Math.pow(idealTime / Math.max(T, 0.001), gamma); // T=0 √∂nlemek i√ßin
                // Nihai ba≈üarƒ± puanƒ±
                const W = normalizedNet * timeFactor;
                return W;
            }
            
            function f4(D, Y, B, T, R, alpha, beta, gamma) {
                const totalQuestions = D + Y + B;
                
                // Net skor (gamma=0 i√ßin)
                const netScore = D - (alpha * Y + beta * B);
                const normalizedNet = (netScore / totalQuestions) * 100;
                
                // Zaman skoru (gamma > 0 i√ßin)
                const attempted = D + Y; // √á√∂z√ºlen sorular (doƒüru + yanlƒ±≈ü)
                const idealTimeForAttempted = attempted * R; // √á√∂z√ºlenler i√ßin ideal s√ºre
                const timeScore = (idealTimeForAttempted / T) * 100; // Zaman skoru
                
                // Gamma'ya g√∂re nihai skor
                let W;
                if (gamma === 0) {
                    W = normalizedNet; // Sadece net skor
                } else {
                    W = timeScore * Math.pow(timeScore / 100, gamma - 1); // Gamma ile √∂l√ßekleme
                }
                
                return W;
            }

            function f5(D, Y, B, T, R, alpha, beta, gamma) {
                const totalQuestions = D + Y + B;
                const attempted = D + Y; // √á√∂z√ºlen toplam soru (doƒüru + yanlƒ±≈ü)

                // Gamma=0: Sadece net skor (zaman √∂nemsiz)
                if (gamma === 0) {
                    const net = D - (alpha * Y + beta * B);
                    return (net / totalQuestions) * 100; // 100 √ºzerinden net
                }

                // Gamma=0.5 veya 1: Zaman ve √ß√∂z√ºlen sorulara g√∂re
                const timeFactor = (attempted * R) / T; // ƒ∞deal s√ºre / Ger√ßek s√ºre
                const W = timeFactor * 100; // Temel hesaplama

                // Gamma=1 i√ßin: (√á√∂z√ºlen soru / Toplam soru) * Zaman fakt√∂r√º * 100
                if (gamma === 1) {
                    const accuracy = attempted / totalQuestions; // √á√∂z√ºlen soru oranƒ±
                    return accuracy * W; // √ñrnek: (6/10) * 100 = 60
                }

                return W; // Gamma=0.5 i√ßin direkt zaman fakt√∂r√º (√ñrnek: 5/4 ‚Üí 125)
            }
            
            const finalW = f2(D, Y, B, T, R, alpha, beta, gamma).toFixed(2);




            // Ana W Skoru hesaplama
            //const w = (wn * 0.4 + wt2 * 0.3 + wd * 0.3) * gamma;
            //const finalW = Math.min(Math.max(w, 0), 100).toFixed(1);

            // Deƒüerleri g√ºncelleme
            document.getElementById('wValue').textContent = `${finalW}%`;
            document.getElementById('wt2Value').textContent = `${(wt2*100).toFixed(1)}%`;
            document.getElementById('wcValue').textContent = `${D+Y} / ${S}`;
            document.getElementById('wdValue').textContent = `${D}`;
            document.getElementById('wnValue').textContent = `${wn.toFixed(1)}%`;
            document.getElementById('wnnValue').textContent = ` ${D-Y/4} / ${S}`;

            // Radar grafiƒüi olu≈üturma
            updateRadarChart([
                finalW,
                wc,
                wd,
                wn,
                wt * 100 // √ñl√ßekleme
            ]);
        }

        function updateRadarChart(data) {
            const ctx = document.getElementById('radarChart').getContext('2d');
            
            if(radarChart) radarChart.destroy();
            
            radarChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        'W Skoru',  
                        '√ß√∂z√ºlen',
                        'Doƒüruluk', 
                        'Net Oranƒ±', 
                        'S√ºre Verimi'
                    ],
                    datasets: [{
                        label: 'Performans Deƒüerleri',
                        data: data,
                        backgroundColor: 'rgba(26, 115, 232, 0.2)',
                        borderColor: '#1a73e8',
                        pointBackgroundColor: '#1a73e8',
                        pointRadius: 4
                    }]
                },
                options: {
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20,
                                color: '#666',
                                showLabelBackdrop: false
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            },
                            pointLabels: {
                                color: '#2c3e50',
                                font: {
                                    size: 12
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    responsive: true,
                    maintainAspectRatio: false
                }
            });
        }
    </script>
</body>
</html>



